namespace SpriteKind {
    export const Wall = SpriteKind.create()
    export const Intro = SpriteKind.create()
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (scene_current == 1) {
        players = 2
        music.play(music.melodyPlayable(music.baDing), music.PlaybackMode.InBackground)
        sprites.destroyAllSpritesOfKind(SpriteKind.Intro, effects.spray, 500)
        scene_current = 2
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (scene_current == 1) {
        players = 1
        music.play(music.melodyPlayable(music.baDing), music.PlaybackMode.InBackground)
        sprites.destroyAllSpritesOfKind(SpriteKind.Intro, effects.spray, 500)
        scene_current = 2
    }
})
function scene_intro () {
    sprite_title = sprites.create(img`
        ........................................................e222e..................................
        ....................ee222222e..........................2222222e................................
        .................e2222222222222.......................222222222e...............................
        ................2222222222222222......................2222222222c..............................
        ..............e22222222222222222ee22222ee.....ee22222e2224552222ce22222ee......................
        ..............22222455555555422222222222222.2222222222222455222222222222222....................
        .............222225555555555522222222222222222222222222224552222222222222222...................
        .............2222555544444455222222222222222222222222222245522222222222222222c.................
        ............e2224554222222455222255555554222224555555522245522222555555542222e.................
        ............222255422222224552225555555555222555555555522455222255555555552222cc...............
        ............222455222222224552245544444455424554444445542455222455444444554222cc...............
        ............222455222222224552245522222255424552222225542455222455222222554222acc..............
        ............222455444444444552245522222255424552222225542455222455455555552222acc..............
        ............222455555555555552245522222255424552222225542455222455455555542222aac..............
        ............22245555555555555224552222225542455222222554245522245524444422222aaac..............
        ............22245522222222455224552444445542455244444554245544245544444222222aaac..............
        ............2224552222222245522455455555552245525555555222555522555555522222aaacc..............
        ............222455222222224552245545555542224552555555222224552225555552222aaaacc..............
        ............222222222222222222245522222222224552222222222222222222222222222aaacc...............
        ............222222222ea222222224552222222222455222222222222222222222222222eaacc................
        .............22222222aaa22222224552222222222455222222222e22222222222222222aaacc................
        ..............e2222aaaaace222222222222222222222222222eaaaaa2222aa2222222aaaacc.................
        ...............ccaaaaaaccccc222222222aaae2222222222aaaaaaaaaaaaaaaaaaaaaaaaacc.................
        .............e2222ecccccce2222222222eaa22222222222222aacccccccccaaaaacccccccc..................
        ............22222222ccce2222222222eaaa222222222222222eccccc.cccccccccccccccc...................
        ...........222222222e..2222222222aaaaa2222222222222222cc.......................................
        ...........2222222222ce2222222222222222224552224552222ce22222ee.ee22ee...e222e.................
        ...........222455422222222555222222222222455222455222222222222222222222e2222222e...............
        ...........222255522222222554222222222222455222455222222222222222222222222222222e..............
        ...........e22245542222225552222222222222455222455222222222222222222222222222222ec.............
        ............222255522222455422255555542224552224552222255555554222552222224552222cc............
        ............e22245542222555222255555555224552224552222555555555522552222224552222ccc...........
        .............22225552224554222244444455424552224552224554444445542552222224552222acc...........
        .............e2222554225552222244444255424552224552224552222225542552222224552222acc...........
        ..............2222555245542224555555255424552224552224554555555522552222224552222acc...........
        ..............e222255455522225555555255424552224552224554555555422552222224552222acc...........
        ...............222255555422245522222255424552224552224552444422222554222224552222acc...........
        ...............e22225555222245544444455424554424554424554444422222555444424552222acc...........
        ................22224554222225555555555222555522555522555555522222455555544552222acc...........
        ................e2222552222222555555552222245522245522255555522222245555544552222acc...........
        .................2222222222222222222222222222222222222222222222222222222224552222acc...........
        .................e22222222a222222222222222222222222222222222222222222444445552222acc...........
        ..................e222222aaa222222222222a22222222222222222222222a222255555554222eacc...........
        ....................e22aaaaace2222222eaaaaa2222aa2222aa2222222aaae22255555542222aacc...........
        ....................cccaaaacccccaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae22222222222222aacc...........
        ..ee22e......e222e...cccccccccccccccccccccccccccaaaaaaaaaaaccccccc2222222222222a2222e..........
        .22222222...2222222e...cccc.....ccccccccccc.cccccccccccccccccccccce2222222222e22222222e........
        222222222e.222222222e..............................................ce22222eaaa222222222........
        2222222222e2222222222222222e......e2222222222e....e222eeee22222ee...e2222222222222222222e......
        2224552222e2224552222222222222ee222222222222222e.22222222222222222222222222222222554222222e....
        2224552222222245522222222222222222222222222222222222222222222222222222222222222225542222222c...
        2224552222222245522222222222222222222222222222222222222222222222222222222222222225542222222ec..
        2224552222222245522225555555422224555555425542222224552245555555222245555555225555555555222ecc.
        2224552222222245522225555555522245555555425542222225542555555555522455555555225555555555222ecc.
        2224555555555555522224444445542255544444425542222245522554444445542555444444224445554444222eacc
        2224555555555555522222444424552255422222225542222255424552222225542555555554222225542222222aacc
        2224554444444445522255555544552255222222225542222555224552555555542455555555422225542222222aacc
        222455222222224552255555554455225522222222554222455422455255555542222444445552222554222222aaacc
        222455222222224552255422222455225522222222554225554222455244444222222222224552222554222aaaaaacc
        222455222222224552255444444554225522222222555455542222255444442222244444445552222554222aaaaacc.
        2224552222a2224552255555555552225522222222555555422222255555554222255555555542222554222aaaccc..
        2224552222a2224552224555555542225522222222455542222222224555554222255555555422222554222aaccc...
        2222222222a222222222222222222222222222e222222222222222222222222222222222222222222222222aacc....
        222222222ea222222222222222222222222222a22222222222eaa2222222222222222222222222222222222aacc....
        .22222222aac2222222222222222222222222aaa222222222aaaaa22222222222222222222222222222222aaacc....
        ..e2222aaaacce2222aa2222222eaaa2222aaaaccce222aaaaaaaccce222222eaa222222222eaaaa2222eaaaacc....
        ...ccaaaaaccccccaaaaaaaaaaaaaaaaaaaaaaacccccaaaaaaacccccccaaaaaaaaaaaaaaaaaaaaaacaaaaaaacc.....
        ....cccccccc..cccccaaccccccccccccccccccc...cccccccccc...cccccccccccccccccccccccccccccccccc.....
        .....cccccc.....ccccccccccccccccccccccc.....cccccc........cccccccccccccccccccccc..cccccc.......
        `, SpriteKind.Intro)
    sprite_title.setPosition(80, 40)
    animation.runImageAnimation(
    sprite_title,
    [img`
        ........................................................e222e..................................
        ....................ee222222e..........................2222222e................................
        .................e2222222222222.......................222222222e...............................
        ................2222222222222222......................2222222222c..............................
        ..............e22222222222222222ee22222ee.....ee22222e2224552222ce22222ee......................
        ..............22222455555555422222222222222.2222222222222455222222222222222....................
        .............222225555555555522222222222222222222222222224552222222222222222...................
        .............2222555544444455222222222222222222222222222245522222222222222222c.................
        ............e2224554222222455222255555554222224555555522245522222555555542222e.................
        ............222255422222224552225555555555222555555555522455222255555555552222cc...............
        ............222455222222224552245544444455424554444445542455222455444444554222cc...............
        ............222455222222224552245522222255424552222225542455222455222222554222acc..............
        ............222455444444444552245522222255424552222225542455222455455555552222acc..............
        ............222455555555555552245522222255424552222225542455222455455555542222aac..............
        ............22245555555555555224552222225542455222222554245522245524444422222aaac..............
        ............22245522222222455224552444445542455244444554245544245544444222222aaac..............
        ............2224552222222245522455455555552245525555555222555522555555522222aaacc..............
        ............222455222222224552245545555542224552555555222224552225555552222aaaacc..............
        ............222222222222222222245522222222224552222222222222222222222222222aaacc...............
        ............222222222ea222222224552222222222455222222222222222222222222222eaacc................
        .............22222222aaa22222224552222222222455222222222e22222222222222222aaacc................
        ..............e2222aaaaace222222222222222222222222222eaaaaa2222aa2222222aaaacc.................
        ...............ccaaaaaaccccc222222222aaae2222222222aaaaaaaaaaaaaaaaaaaaaaaaacc.................
        .............e2222ecccccce2222222222eaa22222222222222aacccccccccaaaaacccccccc..................
        ............22222222ccce2222222222eaaa222222222222222eccccc.cccccccccccccccc...................
        ...........222222222e..2222222222aaaaa2222222222222222cc.......................................
        ...........2222222222ce2222222222222222224552224552222ce22222ee.ee22ee...e222e.................
        ...........222455422222222555222222222222455222455222222222222222222222e2222222e...............
        ...........222255522222222554222222222222455222455222222222222222222222222222222e..............
        ...........e22245542222225552222222222222455222455222222222222222222222222222222ec.............
        ............222255522222455422255555542224552224552222255555554222552222224552222cc............
        ............e22245542222555222255555555224552224552222555555555522552222224552222ccc...........
        .............22225552224554222244444455424552224552224554444445542552222224552222acc...........
        .............e2222554225552222244444255424552224552224552222225542552222224552222acc...........
        ..............2222555245542224555555255424552224552224554555555522552222224552222acc...........
        ..............e222255455522225555555255424552224552224554555555422552222224552222acc...........
        ...............222255555422245522222255424552224552224552444422222554222224552222acc...........
        ...............e22225555222245544444455424554424554424554444422222555444424552222acc...........
        ................22224554222225555555555222555522555522555555522222455555544552222acc...........
        ................e2222552222222555555552222245522245522255555522222245555544552222acc...........
        .................2222222222222222222222222222222222222222222222222222222224552222acc...........
        .................e22222222a222222222222222222222222222222222222222222444445552222acc...........
        ..................e222222aaa222222222222a22222222222222222222222a222255555554222eacc...........
        ....................e22aaaaace2222222eaaaaa2222aa2222aa2222222aaae22255555542222aacc...........
        ....................cccaaaacccccaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae22222222222222aacc...........
        ..ee22e......e222e...cccccccccccccccccccccccccccaaaaaaaaaaaccccccc2222222222222a2222e..........
        .22222222...2222222e...cccc.....ccccccccccc.cccccccccccccccccccccce2222222222e22222222e........
        222222222e.222222222e..............................................ce22222eaaa222222222........
        2222222222e2222222222222222e......e2222222222e....e222eeee22222ee...e2222222222222222222e......
        2224552222e2224552222222222222ee222222222222222e.22222222222222222222222222222222554222222e....
        2224552222222245522222222222222222222222222222222222222222222222222222222222222225542222222c...
        2224552222222245522222222222222222222222222222222222222222222222222222222222222225542222222ec..
        2224552222222245522225555555422224555555425542222224552245555555222245555555225555555555222ecc.
        2224552222222245522225555555522245555555425542222225542555555555522455555555225555555555222ecc.
        2224555555555555522224444445542255544444425542222245522554444445542555444444224445554444222eacc
        2224555555555555522222444424552255422222225542222255424552222225542555555554222225542222222aacc
        2224554444444445522255555544552255222222225542222555224552555555542455555555422225542222222aacc
        222455222222224552255555554455225522222222554222455422455255555542222444445552222554222222aaacc
        222455222222224552255422222455225522222222554225554222455244444222222222224552222554222aaaaaacc
        222455222222224552255444444554225522222222555455542222255444442222244444445552222554222aaaaacc.
        2224552222a2224552255555555552225522222222555555422222255555554222255555555542222554222aaaccc..
        2224552222a2224552224555555542225522222222455542222222224555554222255555555422222554222aaccc...
        2222222222a222222222222222222222222222e222222222222222222222222222222222222222222222222aacc....
        222222222ea222222222222222222222222222a22222222222eaa2222222222222222222222222222222222aacc....
        .22222222aac2222222222222222222222222aaa222222222aaaaa22222222222222222222222222222222aaacc....
        ..e2222aaaacce2222aa2222222eaaa2222aaaaccce222aaaaaaaccce222222eaa222222222eaaaa2222eaaaacc....
        ...ccaaaaaccccccaaaaaaaaaaaaaaaaaaaaaaacccccaaaaaaacccccccaaaaaaaaaaaaaaaaaaaaaacaaaaaaacc.....
        ....cccccccc..cccccaaccccccccccccccccccc...cccccccccc...cccccccccccccccccccccccccccccccccc.....
        .....cccccc.....ccccccccccccccccccccccc.....cccccc........cccccccccccccccccccccc..cccccc.......
        `,img`
        ........................................................e222e..................................
        ....................ee222222e..........................2222222e................................
        .................e2222222222222.......................222222222e...............................
        ................2222222222222222......................2222222222c..............................
        ..............e22222222222222222ee22222ee.....ee22222e2223112222ce22222ee......................
        ..............222223d1111111322222222222222.2222222222222311222222222222222....................
        .............22222d111111111122222222222222222222222222223112222222222222222...................
        .............2222111d34444d11222222222222222222222222222231122222222222222222c.................
        ............e22231142222223112224d111111d222223111111d42231122222d11111132222e.................
        ............22221132222222311222111111111d222d111111111223112222111111111d2222cc...............
        ............222411422222223112231134444311424113444431132311222311444443114222cc...............
        ............222411222222223112231d2222221132411222222d1d231122231d222222114222acc..............
        ............22241134444444d1122d1d2222221132311222222d1d231122231d411111112222acc..............
        ............2224111111111111122d1d2222221132311222222d1d231122231d411111142222aac..............
        ............2224111111111111122d1d2222221132311222222d1d241122231d24444422222aaac..............
        ............2224112222222231122d1d2444431142311244443113241134231144444222222aaac..............
        ............2224112222222231122d1d4111111d2231121111111222d11122111111122222aaacc..............
        ............2224112222222231122d1d4111113222311211111d42222311222d111112222aaaacc..............
        ............2222222222222222222d1d22222222223112222222222222222222222222222aaacc...............
        ............222222222ea22222222d1d2222222222311222222222222222222222222222eaacc................
        .............22222222aaa2222222d1d2222222222311222222222e22222222222222222aaacc................
        ..............e2222aaaaace222222222222222222222222222eaaaaa2222aa2222222aaaacc.................
        ...............ccaaaaaaccccc222222222aaae2222222222aaaaaaaaaaaaaaaaaaaaaaaaacc.................
        .............e2222ecccccce2222222222eaa22222222222222aacccccccccaaaaacccccccc..................
        ............22222222ccce2222222222eaaa222222222222222eccccc.cccccccccccccccc...................
        ...........222222222e..2222222222aaaaa2222222222222222cc.......................................
        ...........2222222222ce2222222222222222223112223112222ce22222ee.ee22ee...e222e.................
        ...........222411422222222d11222222222222311222311222222222222222222222e2222222e...............
        ...........2222d1122222224113222222222222311222311222222222222222222222222222222e..............
        ...........e2224114222222d112222222222222311222311222222222222222222222222222222ec.............
        ............2222d11222224113222111111322231122231122222d1111113222114222223112222cc............
        ............e22241132222d1122221111111d223112223112222111111111d22114222223112222ccc...........
        .............2222d112224114222244444411423112223112223114444441142114222223112222acc...........
        .............e222411322d1122222444442d13231122231122231d2222221142114222223112222acc...........
        ..............2222d112411422241111112d13231122231122231d4111111122114222223112222acc...........
        ..............e2224113d11222211111112d13231122231122231d4111111422114222223112222acc...........
        ...............2222d11114222311222222d13241122241122231d2444442222114222223112222acc...........
        ...............e2224111d22223114444441142411342411342311444442222211d444443112222acc...........
        ................2222d114222221111111111222d11122d11122111111122222311111133112222acc...........
        ................e22221d2222222d111111d22222311222311222d1111122222231111133112222acc...........
        .................2222222222222222222222222222222222222222222222222222222223112222acc...........
        .................e22222222a2222222222222222222222222222222222222222224444311d2222acc...........
        ..................e222222aaa222222222222a22222222222222222222222a2222d1111114222eacc...........
        ....................e22aaaaace2222222eaaaaa2222aa2222aa2222222aaae222d1111d42222aacc...........
        ....................cccaaaacccccaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae22222222222222aacc...........
        ..ee22e......e222e...cccccccccccccccccccccccccccaaaaaaaaaaaccccccc2222222222222a2222e..........
        .22222222...2222222e...cccc.....ccccccccccc.cccccccccccccccccccccce2222222222e22222222e........
        222222222e.222222222e..............................................ce22222eaaa222222222........
        2222222222e2222222222222222e......e2222222222e....e222eeee22222ee...e2222222222222222222e......
        2224112222e2223112222222222222ee222222222222222e.22222222222222222222222222222222113222222e....
        2224112222222231122222222222222222222222222222222222222222222222222222222222222221132222222c...
        2224112222222231122222222222222222222222222222222222222222222222222222222222222221132222222ec..
        222411222222223112222111111d42222311111132113222222311223111111d42223111111122111111111d222ecc.
        2224112222222231122221111111122231111111321132222221132d1111111112231111111122111111111d222ecc.
        2224111111111111122224444441132211d4444442113222223112211344444113211d4444442244411d4444222eacc
        22241111111111111222244444231d221142222222113222221132411222222d132d11111113222221132222222aacc
        22241133333333d11224111111331d2211422222221132222d11224112111111142411111111322221132222222aacc
        22241122222222311221111111331d22114222222211322231142241121111113222244444d112222113222222aaacc
        22241122222222311241142222231d22114222222211322d113222411244444222222222224112222113222aaaaaacc
        22241122222222311221134444411322114222222211d31113222241134444222224444444d112222113222aaaaacc.
        2224112222a22231122d11111111122211422222221111114222222d11111142222d1111111132222113222aaaccc..
        2224112222a2223112223111111d42221142222222311d322222222231111142222d1111111322222113222aaccc...
        2222222222a222222222222222222222222222e222222222222222222222222222222222222222222222222aacc....
        222222222ea222222222222222222222222222a22222222222eaa2222222222222222222222222222222222aacc....
        .22222222aac2222222222222222222222222aaa222222222aaaaa22222222222222222222222222222222aaacc....
        ..e2222aaaacce2222aa2222222eaaa2222aaaaccce222aaaaaaaccce222222eaa222222222eaaaa2222eaaaacc....
        ...ccaaaaaccccccaaaaaaaaaaaaaaaaaaaaaaacccccaaaaaaacccccccaaaaaaaaaaaaaaaaaaaaaacaaaaaaacc.....
        ....cccccccc..cccccaaccccccccccccccccccc...cccccccccc...cccccccccccccccccccccccccccccccccc.....
        .....cccccc.....ccccccccccccccccccccccc.....cccccc........cccccccccccccccccccccc..cccccc.......
        `],
    500,
    true
    )
    sprite_apple = sprites.create(assets.image`sprite_apple`, SpriteKind.Intro)
    sprite_apple.setFlag(SpriteFlag.StayInScreen, true)
    sprite_apple.setFlag(SpriteFlag.BounceOnWall, true)
    sprite_apple.setVelocity(randint(50, 80), randint(40, 80))
    sprite_start_1 = textsprite.create(" 1P Start")
    sprite_start_1.setKind(SpriteKind.Intro)
    sprite_start_1.setIcon(assets.image`sprite_a`)
    sprite_start_1.setOutline(1, 2)
    sprite_start_1.setPosition(80, 90)
    sprite_start_2 = textsprite.create(" 2P Start")
    sprite_start_2.setKind(SpriteKind.Intro)
    sprite_start_2.setIcon(assets.image`sprite_b`)
    sprite_start_2.setOutline(1, 2)
    sprite_start_2.setPosition(80, 110)
}
let sprite_start_2: TextSprite = null
let sprite_start_1: TextSprite = null
let sprite_apple: Sprite = null
let sprite_title: Sprite = null
let players = 0
let scene_current = 0
scene_current = 1
players = 1
scene_intro()
